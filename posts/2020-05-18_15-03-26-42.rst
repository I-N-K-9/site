.. title: Кабинет Nintendo M82
.. slug: 2020-05-18
.. date: 2020-05-18 15:03:26 UTC+05:00
.. tags:
.. category: Repost
.. description:
.. type: text

Nintendo M82 — это демонстрационное устройство, основанное на приставке NES. Поставлялось в магазины и устанавливалось в их торговых залах для того, чтобы потенциальные покупатели NES могли поиграть в игры и убедиться, что приставка им действительно нужна. Имеет 12 (!) слотов под картриджи.

Забавно, что M82 был выпущен очень рано - одновременно с самой NES - поэтому некоторые фичи поздних мапперов (среди которых даже гиперпопулярный MMC3) в нем не поддерживаются. Причина аппаратная - сигнал IRQ (прерывание) просто не заведен на разъемы для картриджей, из-за этого в играх не работает скроллинг фона. Какая связь между прерыванием и скроллингом? А примерно такая же, какая между прерыванием и мультиколором на Спектруме. Обычно на NES фон можно скроллить только весь целиком. Но маппер MMC3 умеет (анализируя шину адреса видеопроцессора) генерировать прерывание тогда, когда луч заканчивает отрисовку очередной строки. И если дать части экрана отрисоваться, а после этого перепрограммировать графический процессор на другую скорость скроллинга, то мы сможем создать, например, эффект параллакса, когда дальний фон скроллится медленней, чем ближний. Без умного маппера подобная синхронизация делается гораздо сложней.

В этом видео Бен Хек (Ben Hack) ремонтирует одно из таких устройств, чинит видеовыход и возвращает IRQ на место.

https://www.youtube.com/watch?v=yZEzioQP4W8

.. youtube:: yZEzioQP4W8