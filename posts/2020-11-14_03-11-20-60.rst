.. title: Mario Game & Watch
.. slug: 2020-11-14
.. date: 2020-11-14 03:11:20 UTC+05:00
.. tags:
.. category:
.. description:
.. type: text

Сегодня вышло переиздание Nintendo Game&Watch с Super Mario Bros внутри. А ещё там внутри STM32H7B (280 МГц, мегабайт памяти, 128 килобайт флэша). Микроконтроллеры STM32 захватывают мир, иначе не скажешь.

Не менее удивительно то, что консоль уже взломана. Причём ещё вчера, то есть до официальной премьеры. Помните, как про SNES Mini шутили, что это будет первая консоль, выпущенная уже взломанной (из-за того, что железо такое же, как у уже хакнутой NES Mini, вышедшей на год раньше)? А тут кажется, что и без шуток так и есть.

Детали неизвестны, но хакер (https://twitter.com/ghidraninja/status/1326855097083686917) нашел отладочный разъем SWD и смог достучаться до чипа. Тот, конечно, оказался защищен от считывания прошивки, однако взломщик мог читать содержимое оперативной памяти в процессе работы приставки, плюс ещё до этого он смог сдампить расположенный на плате внешний 8-мегабайтный флэш, в котором хранилось что-то зашифрованное. Из твиттера хакера следует, что он пытался найти где-нибудь в ОЗУ ключ шифрования, и это ему, вероятно, удалось. Остаётся непонятным, что именно хранится во внутреннем флэше STM32, а что во внешней микросхеме. От этого сильно зависит, что можно сделать со взломанной приставкой. Если окажется, что эмулятор лежит в защищенной части, а в расшифрованном дампе расположены только ромы игр, то всё, что мы сможем - это лишь заменить игры на другие.

Детали обещают в ближайшее время в видео. Ну а пока можно посмотреть гикпорн про разборку консоли.

https://www.youtube.com/watch?v=MHNYZxZGJuE

.. youtube:: MHNYZxZGJuE